#!/usr/bin/env node

var inquirer = require('inquirer');

var network = require('../lib/network');
var adb = require('../lib/adb');

adb.client.listDevices()
  .then(function(devices) {
    var deviceList = adb.getDevicesList(devices);
    inquirer.prompt([{
        name: 'device-id',
        type: 'list',
        message: 'Choose a device',
        choices: deviceList,
      }, {
        name: 'proxy-ip',
        type: 'list',
        message: 'Choose a proxy IP',
        choices: network.getIps(),
      }, {
        name: 'proxy-port',
        type: 'number',
        message: 'What port is your proxy running on',
        default: 8888,
      }], function(answers){
        console.log(JSON.stringify(answers));
      });
  })
  .catch(function(err) {
    console.error(err.toString());
  });


